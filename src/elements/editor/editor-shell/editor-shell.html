<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../shared-styles.html">

<link rel="import" href="../editor-loader/editor-loader.html">
<link rel="import" href="../editor-dependencies/editor-dependencies.html">
<link rel="import" href="../editor-material/editor-material.html">
<link rel="import" href="../editor-gui/editor-gui.html">

<link rel="import" href="editor-shell-styles.html">

<dom-module id="editor-shell">
  <template>
    <style include="shared-styles"></style>
    <style include="editor-shell-styles"></style>

    <iron-ajax
        auto
        url="/src/data/material-list.json"
        handle-as="json"
        on-response="_onMaterialListLoaded"
        debounce-duration="300">
    </iron-ajax>

    <editor-dependencies id="dependencies" loading></editor-dependencies>

    <editor-gui materials="[[materialList]]">
      <editor-scene material="[[material]]" clear-color="0xffc626" loading="{{loading}}" controls></editor-scene>
      <div class="gui__overlay">
        <h1 class="gui__overlay__title"><span id="title">Placeholder</span></h1>
        <p class="gui__overlay__description"><span id="description">Select a material to continue</span></p>
      </div>
    </editor-gui>

    <editor-loader state="[[loading]]"></editor-loader>
  </template>

  <script src="editor-shell.js"></script>
</dom-module>
